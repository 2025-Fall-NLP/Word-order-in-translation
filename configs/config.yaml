language_pairs:
  - [es, fr] # Romance
  - [de, en] # Germanic
  - [ko, ja] # East Asian (SOV)
  - [ja, zh] # Shared script
  - [ko, zh] # Historical
  - [en, ko]
  - [en, ja]
  - [en, zh]
  - [en, fr]
  - [en, es]
  - [en, ar] # Low similarity
  - [ar, zh]

datasets:
  similarity:
    type: flores
    name: facebook/flores
    split: dev
  evaluation:
    type: flores
    name: facebook/flores
    split: devtest
  training:
    type: opus
    name: Helsinki-NLP/opus-100
    split: train
    max_samples: 20000

similarity:
  methods:
    - type: mdeberta
      model: microsoft/mdeberta-v3-base
      pooling: mean
      similarity_fn: cosine
      batch_size: 64
      max_length: 512
    - type: labse
      model: sentence-transformers/LaBSE
      similarity_fn: cosine
      batch_size: 64

translation:
  model:
    type: mbart
    name: facebook/mbart-large-50-many-to-many-mmt
    max_length: 256
    num_beams: 4
  evaluation:
    metrics:
      - type: bleu
        tokenize: 13a
      - type: comet
        model: Unbabel/wmt22-comet-da
        batch_size: 64
      - type: bertscore
        model: bert-base-multilingual-cased
        batch_size: 64
  training:
    epochs: 4
    batch_size: 8
    learning_rate: 3.0e-5
    warmup_ratio: 0.06
    weight_decay: 0.01
    early_stopping_patience: 2
    max_length: 128
    bf16: true

paths:
  output_dir: outputs/
  checkpoint_dir: checkpoints/
